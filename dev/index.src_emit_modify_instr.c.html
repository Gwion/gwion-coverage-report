<!DOCTYPE html>
<script type="text/javascript" src="../focus.js"></script><html>

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Gwion coverage report</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="index.css">
  </head>

  <body>
    <h1>Gwion coverage report</h1>

    <hr/>

    <div class="summary">
<table class="legend">
  <tr>
    <th scope="row">Directory:</th>
    <td>src/</td>
  </tr>
  <tr>
    <th scope="row">File:</th>
    <td>src/emit/modify_instr.c</td>
  </tr>
  <tr>
    <th scope="row">Date:</th>
    <td>2020-06-12 12:04:11</td>
  </tr>
</table>
<table class="coverage">
  <tr>
    <th></th>
    <th scope="col">Exec</th>
    <th scope="col">Total</th>
    <th scope="col">Coverage</th>
  </tr>
  <tr>
    <th scope="row">Lines:</th>
    <td>10</td>
    <td>23</td>
    <td class="coverage-low">43.5%</td>
  </tr>
  <tr>
    <th scope="row">Branches:</th>
    <td>0</td>
    <td>2</td>
    <td class="coverage-none">0.0%</td>
  </tr>
</table>
    </div>

    <hr/>

<div class="file-source">
  <table>
    <tr>
      <td align="right" class="srcHeader">Line</td>
      <td align="right" class="srcHeader">Branch</td>
      <td align="right" class="srcHeader">Exec</td>
      <td align="left" class="srcHeader src">Source</td>
    </tr>


    <tr class="source-line">
      <td class="lineno">1</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;gwion_util.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">2</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;gwion_ast.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">3</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;gwion_env.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">4</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;vm.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">5</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;gwion.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">6</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;instr.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">7</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;emit.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">8</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">9</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">// should be in vm.h</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">10</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#define VAL (*(m_uint*)(byte + SZ_INT))</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">11</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#define FVAL (*(m_float*)(byte + SZ_INT))</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">12</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#define VAL2 (*(m_uint*)(byte + SZ_INT*2))</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">13</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">/*</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">14</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">ANN static void set_recurs(m_bit *byte, m_bit **reg) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">15</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">  *(m_bit*)byte = eRegPushImm;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">16</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">  VAL = (*(m_uint*)(*reg-SZ_INT) = );</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">17</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">  VAL2 = -SZ_INT;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">18</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">// copy from vm_code</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">19</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">}</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">20</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">*/</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">21</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">22</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">ANN static void set_func(m_bit *byte, m_bit **reg) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">23</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">  *(m_bit*)byte = eRegSetImm;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">24</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">  VAL = (*(m_uint*)(*reg-SZ_INT) = (m_uint)((Func)VAL)-&gt;code);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">25</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">  VAL2 = -SZ_INT;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">26</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">// copy from vm_code</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">27</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">}</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">28</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">29</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1</td>
      <td class="src coveredLine">ANN static void set_ctor(m_bit *byte, m_bit *reg) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">30</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1</td>
      <td class="src coveredLine">  *(m_bit*)byte = eRegSetImm;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">31</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1</td>
      <td class="src coveredLine">  VAL = (*(m_uint*)(reg+SZ_INT) = (m_uint)((Type)VAL)-&gt;nspc-&gt;pre_ctor);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">32</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1</td>
      <td class="src coveredLine">  VAL2 = SZ_INT;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">33</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1</td>
      <td class="src coveredLine">}</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">34</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">35</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">ANN void emit_mod_recurs(const Emitter emit) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">36</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">  const Instr instr = vector_size(&amp;emit-&gt;code-&gt;instr) ?</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">37</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">    (Instr)vector_back(&amp;emit-&gt;code-&gt;instr) : emit_add_instr(emit, RegPushImm);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">38</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">  instr-&gt;opcode = ePushStaticCode;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">39</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">  instr-&gt;m_val = 0;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">40</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">}</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">41</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">42</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">ANN void emit_mod_func(const Emitter emit, const Func f) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">43</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">  const Instr instr = emit_add_instr(emit, PushStaticCode);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">44</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">  instr-&gt;m_val = (m_uint)f;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">45</td>
      <td class="linebranch">
      </td>
      <td class="linecount uncoveredLine"></td>
      <td class="src uncoveredLine">  instr-&gt;m_val2 = (m_uint)set_func;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">46</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">}</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">47</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">48</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">2</td>
      <td class="src coveredLine">ANN void emit_mod_ctor(const Emitter emit, const Type t) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">49</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">2</td>
      <td class="src coveredLine">  const Instr instr = emit_add_instr(emit, PushStaticCode);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">50</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">2</td>
      <td class="src coveredLine">  instr-&gt;m_val = (m_uint)t;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">51</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">2</td>
      <td class="src coveredLine">  instr-&gt;m_val2 = (m_uint)set_ctor;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">52</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">2</td>
      <td class="src coveredLine">}</td>
    </tr>

  </table>
</div>

    <hr/>

    <footer>
      Generated by: <a href="http://gcovr.com">GCOVR (Version 4.2)</a>
    </footer>
  </body>
</html>
