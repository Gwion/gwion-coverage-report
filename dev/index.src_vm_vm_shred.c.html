<!DOCTYPE html>
<script type="text/javascript" src="../focus.js"></script><html>

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Gwion coverage report</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="index.css">
  </head>

  <body>
    <h1>Gwion coverage report</h1>

    <hr/>

    <div class="summary">
<table class="legend">
  <tr>
    <th scope="row">Directory:</th>
    <td>src/</td>
  </tr>
  <tr>
    <th scope="row">File:</th>
    <td>src/vm/vm_shred.c</td>
  </tr>
  <tr>
    <th scope="row">Date:</th>
    <td>2020-06-03 13:07:25</td>
  </tr>
</table>
<table class="coverage">
  <tr>
    <th></th>
    <th scope="col">Exec</th>
    <th scope="col">Total</th>
    <th scope="col">Coverage</th>
  </tr>
  <tr>
    <th scope="row">Lines:</th>
    <td>33</td>
    <td>33</td>
    <td class="coverage-high">100.0%</td>
  </tr>
  <tr>
    <th scope="row">Branches:</th>
    <td>6</td>
    <td>6</td>
    <td class="coverage-high">100.0%</td>
  </tr>
</table>
    </div>

    <hr/>

<div class="file-source">
  <table>
    <tr>
      <td align="right" class="srcHeader">Line</td>
      <td align="right" class="srcHeader">Branch</td>
      <td align="right" class="srcHeader">Exec</td>
      <td align="left" class="srcHeader src">Source</td>
    </tr>


    <tr class="source-line">
      <td class="lineno">1</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;gwion_util.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">2</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;gwion_ast.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">3</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;gwion_env.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">4</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;vm.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">5</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;object.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">6</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">#include &#34;gwion.h&#34;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">7</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">8</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">struct Stack_ {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">9</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">  VM_Shred shred;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">10</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">  char c[SIZEOF_REG];</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">11</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">  char d[SIZEOF_MEM];</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">12</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">};</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">13</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">14</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">static inline struct ShredInfo_ *new_shredinfo(MemPool p, const m_str name) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">15</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  struct ShredInfo_ *info = mp_calloc(p, ShredInfo);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">16</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  info-&gt;mp = p;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">17</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  info-&gt;name = mstrdup(p, name);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">18</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  return info;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">19</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">}</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">20</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">21</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">static inline void free_shredinfo(MemPool mp, struct ShredInfo_ *info) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">22</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">  free_mstr(mp, info-&gt;name);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">23</td>
      <td class="linebranch">
        <details class="linebranchDetails">
        <summary class="linebranchSummary">2/2</summary>
        <div class="linebranchContents">
          <div class="takenBranch">&check; Branch 0 taken 1 times.</div>
          <div class="takenBranch">&check; Branch 1 taken 1202 times.</div>
        </div>
        </details>
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">  if(info-&gt;args) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">24</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1</td>
      <td class="src coveredLine">    const Vector v = info-&gt;args;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">25</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">    LOOP_OPTIM</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">26</td>
      <td class="linebranch">
        <details class="linebranchDetails">
        <summary class="linebranchSummary">2/2</summary>
        <div class="linebranchContents">
          <div class="takenBranch">&check; Branch 1 taken 1 times.</div>
          <div class="takenBranch">&check; Branch 2 taken 1 times.</div>
        </div>
        </details>
      </td>
      <td class="linecount coveredLine">3</td>
      <td class="src coveredLine">    for(m_uint i = vector_size(v) + 1; --i;)</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">27</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1</td>
      <td class="src coveredLine">      xfree((void*)vector_at(v, i - 1));</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">28</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1</td>
      <td class="src coveredLine">    free_vector(mp, v);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">29</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">  }</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">30</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">  mp_free(mp, ShredInfo, info);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">31</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">}</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">32</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">33</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">VM_Shred new_vm_shred(MemPool p, VM_Code c) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">34</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  const VM_Shred shred = mp_calloc(p, Stack);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">35</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  shred-&gt;code = c;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">36</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  shred-&gt;reg  = (m_bit*)shred + sizeof(struct VM_Shred_);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">37</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  shred-&gt;base = shred-&gt;mem = shred-&gt;reg + SIZEOF_REG;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">38</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  shred-&gt;info = new_shredinfo(p, c-&gt;name);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">39</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  shred-&gt;info-&gt;orig = c;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">40</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  vector_init(&amp;shred-&gt;gc);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">41</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1206</td>
      <td class="src coveredLine">  return shred;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">42</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src ">}</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">43</td>
      <td class="linebranch">
      </td>
      <td class="linecount "></td>
      <td class="src "></td>
    </tr>

    <tr class="source-line">
      <td class="lineno">44</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">void free_vm_shred(VM_Shred shred) {</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">45</td>
      <td class="linebranch">
        <details class="linebranchDetails">
        <summary class="linebranchSummary">2/2</summary>
        <div class="linebranchContents">
          <div class="takenBranch">&check; Branch 1 taken 1894 times.</div>
          <div class="takenBranch">&check; Branch 2 taken 1203 times.</div>
        </div>
        </details>
      </td>
      <td class="linecount coveredLine">4300</td>
      <td class="src coveredLine">  for(m_uint i = vector_size(&amp;shred-&gt;gc) + 1; --i;)</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">46</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1894</td>
      <td class="src coveredLine">    release((M_Object)vector_at(&amp;shred-&gt;gc, i - 1), shred);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">47</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">  vector_release(&amp;shred-&gt;gc);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">48</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">  REM_REF(shred-&gt;info-&gt;orig, shred-&gt;info-&gt;vm-&gt;gwion);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">49</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">  const MemPool mp = shred-&gt;info-&gt;mp;</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">50</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">  mp_free(mp, ShredTick, shred-&gt;tick);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">51</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">  free_shredinfo(mp, shred-&gt;info);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">52</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">  mp_free(mp, Stack, shred);</td>
    </tr>

    <tr class="source-line">
      <td class="lineno">53</td>
      <td class="linebranch">
      </td>
      <td class="linecount coveredLine">1203</td>
      <td class="src coveredLine">}</td>
    </tr>

  </table>
</div>

    <hr/>

    <footer>
      Generated by: <a href="http://gcovr.com">GCOVR (Version 4.2)</a>
    </footer>
  </body>
</html>
